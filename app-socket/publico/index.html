<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <script src="socket.io.js"></script>



    <title>Document</title>
</head>

<body>
    <div>
        <br>

<div class="container-fluid">

  <h3>Instrumentos</h3>
  <div class="row">
      <div class="ui-g-4">
        <p-checkbox 
          name="group1" 
          value="1" 
          label="NavegacionInercial" 
          binary="true"
          (click)="mostrarNavInercial($event)"
          [(ngModel)]="selectedNavInercial">
        </p-checkbox>
      </div>
      <div class="ui-g-4">
        <p-checkbox 
          name="group1" 
          value="3" 
          label="GPS"
          binary="true"
          (click)="mostrarGPS($event)"
          [(ngModel)]="selectedGPS">
        </p-checkbox>
      </div>
      <div class="ui-g-4">
        <p-checkbox 
          name="group1" 
          value="2" 
          label="RadioAltimetro" 
          binary="true"
          (click)="mostrarNavInercial($event)"
          [(ngModel)]="selectedRadioAltimetro">
        </p-checkbox>
      </div>
  </div>

  <div class="row">
        <div class="col-sm-4" [hidden]="!selectedNavInercial">
          <p-chart type="radar" [data]="dataNavInercial"></p-chart>
        </div>
        <div class="col-sm-4" [hidden]="!selectedGPS">
          <p-chart type="polarArea" [data]="dataNavGPS"></p-chart>
        </div>
        <div class="col-sm-4" [hidden]="!selectedRadioAltimetro">
          <p-chart type="line" [data]="dataNavRadio"></p-chart>
        </div>
  </div>
</div>






    </div>

    <script>
         const server = io('localhost:3002');
       //const server = io('http://192.168.100.24:3002');
       const nombreCliente = '';
       server.on('connect', ()=>{
           console.log('Socket Conectado Correctamente', server.id)
       });
       
       server.on('disconnect', () =>{
           console.log('Se desconecto el Socket')
       })

       server.on('peticionUsuarioCliente', {mensaje: 'Hola'}, data =>{
           console.log('Recibí una respuesta', data)
       })
      
       

       server.on('guardarRadio', {mensaje: 'Radio'}, data =>{
        console.log('Recibí una respuesta de radio', data)
       })


       server.on('respuestaUsuario',(data)=>{
           console.log('Esto enviò el broadcast', data, nombreCliente)
       })

       

       function iniciarRadio(mensaje){
        server.emit('peticionUsuarioCliente', mensaje, (data) =>{
            console.log('saludo con esto', mensaje , nombreCliente)
        })
    }
    

       function saludarR(mensaje){
           server.emit('peticionUsuarioRadio', mensaje, (data) =>{
               console.log('saludo con esto', mensaje , nombreCliente)
           })
       }
       
       server.on('respuestaUsuario',(data)=>{
        const fecha =new Date()
           console.log(`${fecha.toDateString()}`,server.id , data)
       })

       function loggin(nombre){
        nombreCliente=nombre   
       }
       
       

    </script>
</body>

</html>